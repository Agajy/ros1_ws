<launch>
  <!-- Arguments -->
  <!-- <arg name="in_simu" default="false" doc="Set to true for simulation (uses localhost)" />
  <arg name="host" default="172.26.209.13" doc="TCP server IP address (ignored if in_simu is true)" />
  <arg name="port" default="62734" doc="TCP server port" />
  <arg name="save" default="false" doc="Save frames to disk" />
  <arg name="save_dir" default="$(find vision_processing)/frames" doc="Directory to save frames" />
  <arg name="display" default="true" doc="Display images in OpenCV windows" /> -->

  <arg name="in_simu" default="true" doc="Set to true for simulation (uses localhost)" />
  <arg name="host" default="172.26.209.13" doc="TCP server IP address (ignored if in_simu is true)" />
  <arg name="port" default="62734" doc="TCP server port" />
  <arg name="port_command_uav" default="62732" doc="TCP server port" />

  <arg name="save" default="false" doc="Save frames to disk" />
  <arg name="save_dir" default="$(find vision_processing)/frames" doc="Directory to save frames" />
  <arg name="display" default="true" doc="Display images in OpenCV windows" />


  <!-- TCP Image Stream Node -->
  <node name="image_tcp_client" pkg="vision_processing" type="image_tcp_client.py" output="screen">
    <param name="in_simu" value="$(arg in_simu)" />
    <param name="host" value="$(arg host)" />
    <param name="port" value="$(arg port)" />
    <param name="save" value="$(arg save)" />
    <param name="save_dir" value="$(arg save_dir)" />
    <param name="display" value="$(arg display)" />
  </node>

  <node name="image_detector" pkg="vision_processing" type="image_detector.py" output="screen">
  </node>

  <node name="send_uav_command" pkg="vision_processing" type="send_uav_command.py" output="screen">
    <param name="in_simu" value="$(arg in_simu)" />
    <param name="host" value="$(arg host)" />
    <param name="port" value="$(arg port_command_uav)" />
  </node>

</launch>